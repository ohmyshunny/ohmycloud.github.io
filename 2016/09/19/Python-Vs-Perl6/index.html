<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|monospace:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Python," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Python Vs Perl 6, 比较哪个写法更优雅简洁。">
<meta property="og:type" content="article">
<meta property="og:title" content="Python Vs Perl 6">
<meta property="og:url" content="https://ohmycloud.github.io/2016/09/19/Python-Vs-Perl6/index.html">
<meta property="og:site_name" content="Perl 6 青春小站">
<meta property="og:description" content="Python Vs Perl 6, 比较哪个写法更优雅简洁。">
<meta property="og:updated_time" content="2016-10-23T16:00:54.684Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python Vs Perl 6">
<meta name="twitter:description" content="Python Vs Perl 6, 比较哪个写法更优雅简洁。">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="https://ohmycloud.github.io/2016/09/19/Python-Vs-Perl6/"/>

  <title> Python Vs Perl 6 | Perl 6 青春小站 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Perl 6 青春小站</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>
 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Python Vs Perl 6
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-19T09:15:54+08:00" content="2016-09-19">
              2016-09-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Perl-6/" itemprop="url" rel="index">
                    <span itemprop="name">Perl 6</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/19/Python-Vs-Perl6/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/19/Python-Vs-Perl6/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Python Vs Perl 6, 比较哪个写法更优雅简洁。</p>
<a id="more"></a>  
<h2 id="zip"><a href="#zip" class="headerlink" title="zip()"></a>zip()</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># OUTPUT</div><div class="line">What is your name?  It is lancelot.</div><div class="line">What is your quest?  It is the holy grail.</div><div class="line">What is your favorite color?  It is blue.</div></pre></td></tr></table></figure>
<p><strong>Python</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">questions = [<span class="string">'name'</span>, <span class="string">'quest'</span>, <span class="string">'favorite color'</span>]</div><div class="line">answers = [<span class="string">'lancelot'</span>, <span class="string">'the holy grail'</span>, <span class="string">'blue'</span>]</div><div class="line"><span class="keyword">for</span> q, a <span class="keyword">in</span> zip(questions, answers):</div><div class="line">     <span class="keyword">print</span> <span class="string">'What is your &#123;0&#125;?  It is &#123;1&#125;.'</span>.format(q, a)</div></pre></td></tr></table></figure>
<p><strong>Perl6</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">my @questions = (&apos;name&apos;, &apos; quest&apos;,  &apos;favorite color&apos;);</div><div class="line">my @answers = (&quot;lancelot&quot;, &quot;the holy grail&quot;, &quot;blue&quot;);</div><div class="line">for zip(@questions, @answers) -&gt; ($question, $answer) &#123;</div><div class="line">    say &quot;What is you $question?  It is $answer&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="按照日期字符串排序"><a href="#按照日期字符串排序" class="headerlink" title="按照日期字符串排序"></a>按照日期字符串排序</h2><p>给定一个列表，按照日期字符串进行排序:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">list = [ &#123;&apos;date&apos;: &apos;2010-04-01&apos;,&apos;people&apos;: 1047, &apos;hits&apos;: 4522&#125;,  </div><div class="line">         &#123;&apos;date&apos;: &apos;2010-04-03&apos;, &apos;people&apos;: 617, &apos;hits&apos;: 2582&#125;,  </div><div class="line">         &#123;&apos;date&apos;: &apos;2010-04-02&apos;, &apos;people&apos;: 736, &apos;hits&apos;: 3277&#125;</div><div class="line">       ]</div></pre></td></tr></table></figure>
<p><strong>Python</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> operator</div><div class="line">list = [ &#123;<span class="string">'date'</span>: <span class="string">'2010-04-01'</span>,<span class="string">'people'</span>: <span class="number">1047</span>, <span class="string">'hits'</span>: <span class="number">4522</span>&#125;,  </div><div class="line">         &#123;<span class="string">'date'</span>: <span class="string">'2010-04-03'</span>, <span class="string">'people'</span>: <span class="number">617</span>, <span class="string">'hits'</span>: <span class="number">2582</span>&#125;,  </div><div class="line">         &#123;<span class="string">'date'</span>: <span class="string">'2010-04-02'</span>, <span class="string">'people'</span>: <span class="number">736</span>, <span class="string">'hits'</span>: <span class="number">3277</span>&#125;</div><div class="line">       ]</div><div class="line">sorted( list, key = operator.itemgetter(<span class="string">'date'</span>) )</div></pre></td></tr></table></figure>
<p>输出(默认是升序):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;&apos;date&apos;: &apos;2010-04-01&apos;, &apos;hits&apos;: 4522, &apos;people&apos;: 1047&#125;,\</div><div class="line">&#123;&apos;date&apos;: &apos;2010-04-02&apos;, &apos;hits&apos;: 3277, &apos;people&apos;: 736&#125;, \</div><div class="line">&#123;&apos;date&apos;: &apos;2010-04-03&apos;, &apos;hits&apos;: 2582, &apos;people&apos;: 617&#125;</div></pre></td></tr></table></figure>
<p><strong>Perl6</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">my @days = Date.new(&apos;2005-02-28&apos;) .. Date.new(&apos;2016-09-22&apos;);</div><div class="line">my @list = &quot;/perl6/&quot; &lt;&lt;~&lt;&lt; @days;</div><div class="line"></div><div class="line"># 根据日期进行排序</div><div class="line"></div><div class="line"># 降序</div><div class="line">my @sorted_des = @list.sort: &#123; $^b.split(&apos;/&apos;)[2] leg $^a.split(&apos;/&apos;)[2] &#125;</div><div class="line">say .key, &quot;\n&quot;, .values for @sorted_des.classy(*.substr(7,7)).sort( &#123; .key &#125; )</div><div class="line"></div><div class="line"># 如果对想对生成的散列再做一下加工（计算每个月有多少天）</div><div class="line"># 就对生成的散列使用 map, 利用散列的键和值重新做一个映射</div><div class="line">say .key, &quot; &quot;, ~.values for @sorted_des.classy(*.substr(7,7)).map( &#123;   .key =&gt; .value.elems  &#125; ).sort( &#123; .key &#125; )</div><div class="line">say .key, &quot; &quot;, ~.values for @sorted_des.classy(*.substr(7,7)).map( &#123; ; .key =&gt; .value.elems  &#125; ).sort( &#123; .key &#125; )</div><div class="line">say .key, &quot; &quot;, ~.values for @sorted_des.classy(*.substr(7,7)).map( &#123;   .key =&gt; .value.elems; &#125; ).sort( &#123; .key &#125; )</div><div class="line"></div><div class="line"></div><div class="line"># 升序</div><div class="line"># @list.sort: &#123; .split(&apos;/&apos;)[2] &#125;;</div><div class="line"># @list.sort: &#123; $^a.split(&apos;/&apos;)[2] leg $^b.split(&apos;/&apos;)[2] &#125;</div></pre></td></tr></table></figure>
<h2 id="统计字符串各字符出现的次数"><a href="#统计字符串各字符出现的次数" class="headerlink" title="统计字符串各字符出现的次数"></a>统计字符串各字符出现的次数</h2><p>abcdefghijklmnopqrstuvwxyz…abcdefghijklmnopqrstuvwxyz（1千万个a-z，不可直接a=1千万……）中每个字母的个数。要求除了更好的方式（如更加Pythonic的方式），还要计算越快越好，并打印出代码执行时间。</p>
<p><strong>Python</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="string">"""</span></div><div class="line">下面这个例子就是使用 Counter 模块统计一段句子里面所有字符出现次数</div><div class="line">"""</div><div class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</div><div class="line"></div><div class="line">s = <span class="string">"sssdfdfwewqewfgfhghghgfhgfh10000000"</span></div><div class="line">c = Counter(s)</div><div class="line"></div><div class="line"><span class="comment"># 获取出现频率最高的5个字符</span></div><div class="line">print(c.most_common(<span class="number">5</span>))</div><div class="line"></div><div class="line"><span class="comment"># Result:</span></div><div class="line">[(<span class="string">' '</span>, <span class="number">54</span>), (<span class="string">'e'</span>, <span class="number">32</span>), (<span class="string">'s'</span>, <span class="number">25</span>), (<span class="string">'a'</span>, <span class="number">24</span>), (<span class="string">'t'</span>, <span class="number">24</span>)]</div></pre></td></tr></table></figure>
<p><strong>Perl6</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">my $a = (&apos;a&apos; .. &apos;z&apos;).roll(10000000);</div><div class="line">say .key, &apos; =&gt; &apos;, .value for $a.cache.classify(*.Str).map(&#123;.key =&gt; .value.elems&#125;).sort(&#123;-.value&#125;);</div></pre></td></tr></table></figure>
<p>输出:（当然现在速度不能忍受 180s左右）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">q =&gt; 385797</div><div class="line">a =&gt; 385584</div><div class="line">o =&gt; 385573</div><div class="line">e =&gt; 385391</div><div class="line">c =&gt; 385286</div><div class="line">p =&gt; 385222</div><div class="line">...</div></pre></td></tr></table></figure>
<h2 id="dir-Vs-methods"><a href="#dir-Vs-methods" class="headerlink" title="dir Vs ^methods"></a>dir Vs ^methods</h2><p>获取类中的所有方法:</p>
<p><strong>Python</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> item <span class="keyword">in</span> dir(<span class="string">"hello good people"</span>): print(item)</div></pre></td></tr></table></figure>
<p><strong>Perl6</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">for &quot;hello good people&quot;.^methods -&gt; $method &#123; say $method &#125;</div></pre></td></tr></table></figure>
<p>调用类中的每个方法:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> copy</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">all_the_methods</span><span class="params">(thing)</span>:</span></div><div class="line">    <span class="keyword">for</span> meth <span class="keyword">in</span> dir(thing):</div><div class="line">        <span class="keyword">if</span> meth.startswith(<span class="string">'_'</span>):</div><div class="line">            print(<span class="string">"Skipping "</span> + meth)</div><div class="line">            <span class="keyword">continue</span></div><div class="line"></div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            print(meth, <span class="string">' =&gt; '</span>, getattr(copy.copy(thing), meth)())</div><div class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</div><div class="line">            print(Exception, <span class="string">":"</span>, e)</div><div class="line"></div><div class="line"></div><div class="line">all_the_methods(<span class="string">"hello good people"</span>)</div></pre></td></tr></table></figure>
<p>在 Python 中要将字符串当作<strong>函数名</strong> 使用时, 请使用 <code>getattr(调用者, 字符串方法)</code>。 具体请参考 <a href="https://taizilongxu.gitbooks.io/stackoverflow-about-python/content/59/README.html" target="_blank" rel="external">通过函数名的字符串来调用这个函数</a>。来看看这一段方法的输出:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Skipping __add__</div><div class="line">...</div><div class="line">capitalize  =&gt;  Hello good people</div><div class="line">islower  =&gt;  True</div><div class="line">...</div><div class="line">lower  =&gt;  hello good people</div><div class="line">split  =&gt;  [&apos;hello&apos;, &apos;good&apos;, &apos;people&apos;]</div><div class="line">&lt;class &apos;Exception&apos;&gt; : translate() takes exactly one argument (0 given)</div><div class="line">...</div></pre></td></tr></table></figure>
<p><strong>Perl6</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">sub all-the-methods($thing) &#123;</div><div class="line">  for $thing.^methods -&gt; $method &#123;</div><div class="line">    say &quot;&#123;$method.name&#125; =&gt; &#123;$thing.clone.$method.gist&#125;&quot;;</div><div class="line">    CATCH &#123; default &#123; say &quot;&#123;$method.name&#125; =&gt; ERROR&quot; &#125; &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">all-the-methods &lt;this is words&gt;;</div><div class="line">all-the-methods &quot;hello little fishies!&quot;;</div></pre></td></tr></table></figure>
<p>接收一系列方法, 遍历这些方法并一次性调用它们。在这里我们做了一次克隆(<code>.clone</code>), 以使如果它是可变函数的话我们将在它的一个副本上工作。注意, <code>.clone</code> <strong>不是</strong> 深度复制, 所以它虽然能在我这个简单的字符串例子中工作但是它可能在其它东西上没有作用。<code>.gist</code> 调用给了我们结果一个很好的可打印版本。</p>
<p>我们不用参数调用那些方法, 很多方法对不带参数不感冒。所以这儿我们提供了一个 CATCH 块以打印出通用信息 – 它在一个循环里面所以在捕获一个错误之后它会跳转到下一个方法上。</p>
<p>这儿是输出:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"># &lt;this is words&gt;</div><div class="line">permutations =&gt; ((this is words) (this words is) (is this words) (is words this) (words this is) (words is this))</div><div class="line">join =&gt; thisiswords</div><div class="line">pick =&gt; is</div><div class="line">roll =&gt; words</div><div class="line">reverse =&gt; (words is this)</div><div class="line">rotate =&gt; (is words this)</div><div class="line">append =&gt; ERROR</div><div class="line"></div><div class="line"># &quot;hello little fishies!&quot;</div><div class="line">ords =&gt; (104 101 108 108 111 32 108 105 116 116 108 101 32 102 105 115 104 105 101 115 33)</div><div class="line">wordcase =&gt; Hello Little Fishies!</div><div class="line">uc =&gt; HELLO LITTLE FISHIES!</div><div class="line">flip =&gt; !seihsif elttil olleh</div><div class="line">chop =&gt; hello little fishies</div><div class="line">contains =&gt; ERROR</div></pre></td></tr></table></figure>
<p>很多函数的结果是 <code>ERROR</code>, 特别是那些讨厌的接收某种参数的方法。然而, 这些不带参数的很多方法能正常工作并返回某些值。原文<a href="https://thelackthereof.org/TLT/2016.09.23/All_The_Methods" target="_blank" rel="external">All_The_Methods</a></p>
<h2 id="lambda-Vs-Whatever-Star"><a href="#lambda-Vs-Whatever-Star" class="headerlink" title="lambda Vs Whatever-Star"></a>lambda Vs Whatever-Star</h2><p><strong>Python</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> f <span class="keyword">in</span> filter(<span class="keyword">lambda</span> f: f(<span class="number">-1</span>)&gt;=f(<span class="number">1</span>),</div><div class="line">                [<span class="keyword">lambda</span> x:x, <span class="keyword">lambda</span> x:x**<span class="number">2</span>, <span class="keyword">lambda</span> x:x**<span class="number">3</span>]):</div><div class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">-10</span>, <span class="number">11</span>):</div><div class="line">        <span class="keyword">print</span> x, f(x)</div></pre></td></tr></table></figure>
<p><strong>Perl6</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">for (* ** 1, * ** 2, * ** 3).grep(&#123; $_.(-1) &gt;= $_.(1) &#125;) -&gt; $f &#123;</div><div class="line">  for -10 .. 10 -&gt; $x &#123;</div><div class="line">    say &quot;$x: &#123; $f.($x) &#125;&quot;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Whatever-Star 等价于:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># Whatever-Star notation</div><div class="line">* ** 3</div><div class="line"></div><div class="line"># Pointy-block notation</div><div class="line">-&gt; $x &#123; $x ** 3 &#125;</div><div class="line"></div><div class="line"># Subref notation</div><div class="line">sub ($x) &#123; $x ** 3 &#125;</div></pre></td></tr></table></figure>
<p>上面的例子打印:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">-10: 100</div><div class="line">-9: 81</div><div class="line">-8: 64</div><div class="line">-7: 49</div><div class="line">-6: 36</div><div class="line">-5: 25</div><div class="line">-4: 16</div><div class="line">-3: 9</div><div class="line">-2: 4</div><div class="line">-1: 1</div><div class="line">0: 0</div><div class="line">1: 1</div><div class="line">2: 4</div><div class="line">3: 9</div><div class="line">4: 16</div><div class="line">5: 25</div><div class="line">6: 36</div><div class="line">7: 49</div><div class="line">8: 64</div><div class="line">9: 81</div><div class="line">10: 100</div></pre></td></tr></table></figure>
<h2 id="str-Vs-gist"><a href="#str-Vs-gist" class="headerlink" title="str Vs gist"></a><strong>str</strong> Vs gist</h2><p>在 Python 中, 如果要把一个类的实例变成 str，就需要实现特殊方法 <code>__str__()</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, gender)</span>:</span></div><div class="line">        self.name = name</div><div class="line">        self.gender = gender</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> <span class="string">'(Person: %s, %s)'</span> % (self.name, self.gender)</div></pre></td></tr></table></figure>
<p>在终端里敲:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; p = Person(&apos;Bob&apos;, &apos;male&apos;)</div><div class="line">&gt;&gt;&gt; print(p) # (Person: Bob, male)</div><div class="line">&gt;&gt;&gt; p        # &lt;main.Person object at 0x10c941890&gt;</div></pre></td></tr></table></figure>
<p>直接敲 p 似乎没有调用 <code>__str__()</code>。 因为 Python 定义了 <code>__str__()</code> 和 <code>__repr__()</code> 两种方法，<code>__str__()</code> 用于显示给用户，而 <code>__repr__()</code> 用于显示给开发人员。一个偷懒的重写 <code>__repr__</code> 的办法是:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, gender)</span>:</span></div><div class="line">        self.name = name</div><div class="line">        self.gender = gender</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> <span class="string">'(Person: %s, %s)'</span> % (self.name, self.gender)</div><div class="line">    __repr__ = __str__</div></pre></td></tr></table></figure>
<p>在 Perl 6 中要重写 <code>gist</code> 方法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">use v6;</div><div class="line"></div><div class="line">class Person &#123;</div><div class="line">    has $.name;</div><div class="line">    has $.gender;</div><div class="line">    method gist() &#123;</div><div class="line">        return &quot;Person: $.name, $.gender&quot;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    # .perl 相当于给开发人员调试看的</div><div class="line">    method perl() &#123;</div><div class="line">        return &quot;Person: $.name, $.gender&quot;</div><div class="line">    &#125;    </div><div class="line">&#125;</div><div class="line"></div><div class="line">my $p = Person.new(name =&gt; &apos;Bob&apos;, gender =&gt; &apos;male&apos;);</div><div class="line">say $p.gist;</div></pre></td></tr></table></figure>
<h2 id="给对象排序"><a href="#给对象排序" class="headerlink" title="给对象排序"></a>给对象排序</h2><p>按照分数从高到底排序，分数相同的按名字排序。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, score)</span>:</span></div><div class="line">        self.name = name</div><div class="line">        self.score = score</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> <span class="string">'(%s: %s)'</span> % (self.name, self.score)</div><div class="line"></div><div class="line">    __repr__ = __str__</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__cmp__</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.score &gt; s.score:</div><div class="line">            <span class="keyword">return</span> <span class="number">-1</span></div><div class="line">        <span class="keyword">elif</span> self.score &lt; s.score:</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">if</span> self.name &lt; s.name:</div><div class="line">                <span class="keyword">return</span> <span class="number">-1</span></div><div class="line">            <span class="keyword">elif</span> self.name &gt; s.name:</div><div class="line">                <span class="keyword">return</span> <span class="number">1</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                <span class="keyword">return</span> <span class="number">0</span></div><div class="line"></div><div class="line">L = [Student(<span class="string">'Tim'</span>, <span class="number">99</span>), Student(<span class="string">'Bob'</span>, <span class="number">88</span>), Student(<span class="string">'Alice'</span>, <span class="number">99</span>)]</div><div class="line"><span class="keyword">print</span> sorted(L) <span class="comment"># [(Alice: 99), (Tim: 99), (Bob: 88)]</span></div></pre></td></tr></table></figure>
<p>Perl 6 中直接把对象对应的属性传递给 sort 函数就可以按照你想要的进行排序:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">use v6;</div><div class="line"></div><div class="line">class Student &#123;</div><div class="line">    has $.name;</div><div class="line">    has $.score;</div><div class="line">    method gist() &#123;</div><div class="line">        return &quot;Student: $.name, $.score&quot;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    # .perl 相当于给开发人员调试看的</div><div class="line">    method perl() &#123;</div><div class="line">        return &quot;Student: $.name, $.score&quot;</div><div class="line">    &#125;   </div><div class="line">&#125;</div><div class="line"></div><div class="line">my $p1 = Student.new(name =&gt; &apos;Bob&apos;, score =&gt; 79);</div><div class="line">my $p2 = Student.new(name =&gt; &apos;Ale&apos;, score =&gt; 99);</div><div class="line">my $p3 = Student.new(name =&gt; &apos;Pin&apos;, score =&gt; 69);</div><div class="line">my $p4 = Student.new(name =&gt; &apos;Kin&apos;, score =&gt; 69);</div><div class="line">my @p  = ($p1, $p2, $p3,$p4);</div><div class="line">say @p.sort(*.score).sort(*.name);</div><div class="line"># (Student: Ale, 99 Student: Bob, 79 Student: Kin, 69 Student: Pin, 69)</div></pre></td></tr></table></figure>
<p><code>sort(*.something)</code> 中的星号实际上是一个闭包, 上面的例子等价于:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">my @sort_by_score = @p.sort: -&gt; $a,$b &#123; $a.score &lt;=&gt; $b.score &#125;;</div><div class="line">my @sort_by_name  = @sort_by_score.sort: -&gt; $a, $b &#123; $a.name cmp $b.name &#125;;</div><div class="line">.say for @sort_by_name;</div></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>
    
    <div>
      
        
<div style="text-align:center;color: #ccc;font-size:15px;">
------ Young For Perl 6! ------</div>

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python/" rel="tag">#Python</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/09/18/Perl-6-Calendar-2016-第三天-对象哈希/" rel="next" title="对象哈希">
                <i class="fa fa-chevron-left"></i> 对象哈希
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/09/19/Learning-Perl-6-sets/" rel="prev" title="Learning Perl 6 - sets">
                Learning Perl 6 - sets <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2016/09/19/Python-Vs-Perl6/"
     data-title="Python Vs Perl 6"
     data-content=""
     data-url="https://ohmycloud.github.io/2016/09/19/Python-Vs-Perl6/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/09/19/Python-Vs-Perl6/"
           data-title="Python Vs Perl 6" data-url="https://ohmycloud.github.io/2016/09/19/Python-Vs-Perl6/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="焉知非鱼" />
          <p class="site-author-name" itemprop="name">焉知非鱼</p>
          <p class="site-description motion-element" itemprop="description">Young For Perl 6</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">162</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">178</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ohmycloud" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/740011611" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/u/9b20c7d63b77" target="_blank" title="简书">
                  
                    <i class="fa fa-fw fa-location-arrow"></i>
                  
                  简书
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://perl6.org/" target="_blank" title="Perl 6">
                  
                    <i class="fa fa-fw fa-fire"></i>
                  
                  Perl 6
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://pl6anet.org/" target="_blank" title="pl6anet">
                  
                    <i class="fa fa-fw fa-umbrella"></i>
                  
                  pl6anet
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://docs.perl6.org/" target="_blank" title="perl6doc">
                  
                    <i class="fa fa-fw fa-angle-double-right"></i>
                  
                  perl6doc
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#zip"><span class="nav-number">1.</span> <span class="nav-text">zip()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#按照日期字符串排序"><span class="nav-number">2.</span> <span class="nav-text">按照日期字符串排序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#统计字符串各字符出现的次数"><span class="nav-number">3.</span> <span class="nav-text">统计字符串各字符出现的次数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dir-Vs-methods"><span class="nav-number">4.</span> <span class="nav-text">dir Vs ^methods</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lambda-Vs-Whatever-Star"><span class="nav-number">5.</span> <span class="nav-text">lambda Vs Whatever-Star</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#str-Vs-gist"><span class="nav-number">6.</span> <span class="nav-text">str Vs gist</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#给对象排序"><span class="nav-number">7.</span> <span class="nav-text">给对象排序</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">焉知非鱼</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  托管在 -
  <a class="theme-link" href="https://github.com/ohmycloud/ohmycloud.github.io">
    Github
  </a>
  &nbsp; | &nbsp;
</div>

<div class="theme-info">
 <a class="51-img" href="/images/footer.gif" target="_blank"><img alt="统计" src="/images/footer.gif"  align="right" /></a>
<div>
        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"chenyf"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  

  

  

</body>
</html>
